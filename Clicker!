<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Clicker RPG Ultra</title>
<style>
body{
    margin:0;
    font-family:Arial;
    text-align:center;
    background: linear-gradient(135deg,#000428,#004e92);
    color:white;
}
h1{margin:10px;}
#avatar{font-size:64px;margin:5px;}
#score{font-size:36px;margin:5px;}
#tap{
    width:220px;height:220px;border-radius:50%;
    background:#00ffe1;border:none;font-size:26px;
    box-shadow:0 0 25px #00ffe1;
    transition:.1s;
}
#tap:active{transform:scale(0.92);}
button,select,input{
    margin:5px;padding:8px;border-radius:8px;border:none;font-size:16px;
}
#custom,#inventory,#battle,#accounts{
    background:#001f40;border-radius:12px;margin:10px;padding:10px;
}
#items{max-height:120px;overflow:auto;text-align:left;padding:5px;}
</style>
</head>
<body>

<h1>üéÆ Clicker RPG Ultra</h1>

<div id="accounts">
<h3>–ê–∫–∞—É–Ω—Ç</h3>
<input type="text" id="nameInput" placeholder="–í–≤–µ–¥—ñ—Ç—å —ñ–º'—è">
<select id="avatarSelect" onchange="changeAvatar(this.value)">
<option value="üßë">üßë</option>
<option value="üò∫">üò∫</option>
<option value="üëæ">üëæ</option>
<option value="ü§ñ">ü§ñ</option>
<option value="ü¶ä">ü¶ä</option>
</select>
<button onclick="createAccount()">–°—Ç–≤–æ—Ä–∏—Ç–∏</button>
<div>–í–∞—à –∞–≤–∞—Ç–∞—Ä: <span id="avatar">üßë</span></div>
</div>

<div id="score">0</div>
<button id="tap">–¢–ò–°–ù–ò!</button>

<div id="custom">
<h3>–ö–∞—Å—Ç–æ–º—ñ–∑–∞—Ü—ñ—è –∫–Ω–æ–ø–∫–∏</h3>
–ö–æ–ª—ñ—Ä: <select onchange="tapColor(this.value)">
<option value="#00ffe1">–ë–∏—Ä—é–∑–æ–≤–∞</option>
<option value="#ff0080">–†–æ–∂–µ–≤–∞</option>
<option value="#ffaa00">–ü–æ–º–∞—Ä–∞–Ω—á–µ–≤–∞</option>
<option value="#00ff00">–ó–µ–ª–µ–Ω–∞</option>
</select>
–†–æ–∑–º—ñ—Ä: <select onchange="tapSize(this.value)">
<option value="200">–ú–∞–ª–µ–Ω—å–∫–∞</option>
<option value="240" selected>–ó–≤–∏—á–∞–π–Ω–∞</option>
<option value="300">–í–µ–ª–∏–∫–∞</option>
</select>
</div>

<div id="inventory">
<h3>–Ü–Ω–≤–µ–Ω—Ç–∞—Ä</h3>
<button onclick="addItem('–ó—ñ–ª–ª—è')">–û—Ç—Ä–∏–º–∞—Ç–∏ –ó—ñ–ª–ª—è</button>
<button onclick="addItem('–ú–µ—á')">–û—Ç—Ä–∏–º–∞—Ç–∏ –ú–µ—á</button>
<div id="items"></div>
</div>

<div id="battle">
<h3>–ë–∏—Ç–≤–∏</h3>
<input type="text" id="friendCode" placeholder="–ö–æ–¥ –¥—Ä—É–≥–∞">
<button onclick="startBattle()">–ü–æ—á–∞—Ç–∏ –±–∞—Ç–ª</button>
<div id="battleLog"></div>
</div>

<script>
// ---------- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∞–∫–∞—É–Ω—Ç–∞ ----------
let save = JSON.parse(localStorage.getItem("rpgSave")) || {
name:"",
avatar:"üßë",
score:0,
power:1,
inventory:[],
friends:{}
};

const scoreBox = document.getElementById("score");
const tapBtn = document.getElementById("tap");
const avatarSpan = document.getElementById("avatar");
const itemsDiv = document.getElementById("items");
const battleLog = document.getElementById("battleLog");

scoreBox.innerText = save.score;
avatarSpan.innerText = save.avatar;

// ---------- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–∫–∞—É–Ω—Ç–∞ ----------
function createAccount(){
const name = document.getElementById("nameInput").value;
if(!name){alert("–í–≤–µ–¥—ñ—Ç—å —ñ–º'—è!"); return;}
save.name = name;
save.avatar = document.getElementById("avatarSelect").value;
store();
updateUI();
}

// ---------- –ö–Ω–æ–ø–∫–∞ –∫–ª—ñ–∫ ----------
tapBtn.onclick = ()=>{
save.score += save.power;
store();
updateUI();
};

// ---------- –ö–∞—Å—Ç–æ–º—ñ–∑–∞—Ü—ñ—è –∫–Ω–æ–ø–∫–∏ ----------
function tapColor(c){tapBtn.style.background=c;}
function tapSize(s){tapBtn.style.width=s+"px";tapBtn.style.height=s+"px";}

// ---------- –ê–≤–∞—Ç–∞—Ä ----------
function changeAvatar(a){
avatarSpan.innerText=a;
save.avatar = a;
store();
}

// ---------- –Ü–Ω–≤–µ–Ω—Ç–∞—Ä ----------
function addItem(item){
save.inventory.push(item);
store();
renderItems();
}

function renderItems(){
itemsDiv.innerHTML="";
save.inventory.forEach((it,i)=>{
let d=document.createElement("div");
d.innerText = (i+1)+". "+it;
itemsDiv.appendChild(d);
});
}

// ---------- –ë–∞—Ç–ª–∏ ----------
function startBattle(){
const code = document.getElementById("friendCode").value;
if(!code){alert("–í–≤–µ–¥—ñ—Ç—å –∫–æ–¥ –¥—Ä—É–≥–∞!"); return;}
let friendPower = Math.floor(Math.random()*10)+1; // —É–º–æ–≤–Ω–∏–π —Å—É–ø–µ—Ä–Ω–∏–∫
let result="";
if(save.power>=friendPower) result="–í–∏–≥—Ä–∞—à!";
else result="–ü—Ä–æ–≥—Ä–∞—à!";
battleLog.innerText=`–ë–∞—Ç–ª –∑ –∫–æ–¥–æ–º ${code}\n–¢–≤–æ—è —Å–∏–ª–∞: ${save.power}\n–°–∏–ª–∞ –¥—Ä—É–≥–∞: ${friendPower}\n–†–µ–∑—É–ª—å—Ç–∞—Ç: ${result}`;
}

// ---------- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è ----------
function store(){localStorage.setItem("rpgSave",JSON.stringify(save));}

// ---------- –û–Ω–æ–≤–ª–µ–Ω–Ω—è UI ----------
function updateUI(){
scoreBox.innerText = save.score;
avatarSpan.innerText = save.avatar;
renderItems();
}

updateUI();
</script>
</body>
</html>
